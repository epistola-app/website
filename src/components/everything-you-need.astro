---
const toneClasses = ["tone-peach", "tone-mint", "tone-lilac"];

const features = [
  {
    title: "Template lifecycle",
    body: "Variants, immutable versions, and draft/publish/archived states per tenant with audit trails and schema migrations.",
    badge: "Templates",
  },
  {
    title: "Visual editor",
    body: "Lit + ProseMirror blocks with drag/drop, conditional logic, loops, live PDF preview, and inline expression chips.",
    badge: "Authoring",
  },
  {
    title: "Expression engine",
    body: "Choose JSONata, sandboxed GraalJS, or simple path bindings to calculate totals, clauses, and formatting on the fly.",
    badge: "Logic",
  },
  {
    title: "Direct PDF renderer",
    body: "iText Core 9.5 builds layouts without HTML passes, delivering PDF/A and PDF/X outputs in 50–200 ms.",
    badge: "Rendering",
  },
  {
    title: "Multi-tenant governance",
    body: "Role-based access, environment promotions (staging/production), and per-tenant default themes keep teams isolated.",
    badge: "Operations",
  },
  {
    title: "API + jobs",
    body: "OpenAPI 3.1 REST endpoints for single or batch renders with adaptive job sizing, webhooks, and storage adapters.",
    badge: "Delivery",
  },
];
---

<section class="py-24">
  <div class="mx-auto max-w-6xl px-4">
    <div class="text-center">
      <p class="eyebrow">Everything you need to render PDFs</p>
      <h2 class="mt-4 text-4xl font-semibold text-[var(--color-gray-900)] dark:text-white">
        Epistola does templates and rendering — nothing else.
      </h2>
      <p class="mt-4 text-lg text-[var(--muted-text)]">
        Keep workflows in the products that orchestrate your cases while Epistola focuses on perfect output.
      </p>
    </div>
    <div class="mt-16 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      {features.map((feature, index) => (
        <div
          class={`surface-card ${toneClasses[index % toneClasses.length]} relative overflow-hidden rounded-3xl p-6 transition hover:-translate-y-1`}
        >
          <span class="text-xs font-semibold uppercase tracking-[0.3em] text-[var(--color-brand-500)]">{feature.badge}</span>
          <h3 class="mt-4 text-2xl font-semibold text-[var(--color-gray-900)] dark:text-white">
            {feature.title}
          </h3>
          <p class="mt-3 text-sm text-[var(--muted-text)]">{feature.body}</p>
          <div class="mt-6 flex items-center gap-2 text-sm font-semibold text-[var(--color-brand-600)]">
            Learn more
            <span aria-hidden="true">→</span>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
